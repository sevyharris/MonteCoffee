

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Code output &mdash; MonteCoffee  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials/index.html" />
    <link rel="prev" title="Quick start" href="quick.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> MonteCoffee
          

          
            
            <img src="_static/avatar.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Code overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick.html">Quick start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code output</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simulation-log-file">Simulation log file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#results-as-txt-files">Results as .txt files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">User interface (API)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cite.html">How to cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="literature.html">Additional reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MonteCoffee</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Code output</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/output.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="tutorials/index.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quick.html" class="btn btn-neutral float-left" title="Quick start" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="output"></span><div class="section" id="code-output">
<span id="index-0"></span><h1>Code output<a class="headerlink" href="#code-output" title="Permalink to this headline">¶</a></h1>
<div class="section" id="simulation-log-file">
<h2>Simulation log file<a class="headerlink" href="#simulation-log-file" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">MonteCoffee</strong> generates a .txt log file with the naming convention kMClog_#date_#time_.txt. This is handled by the  module <a class="reference external" href="api/NeighborKMC.base.html#module-NeighborKMC.base.logging">base.Logging</a>.</p>
<p>The first output contains all the dictionary of parameters, passed as the input <code class="code docutils literal notranslate"><span class="pre">parameters</span></code> when instantiating a <code class="xref py py-class docutils literal notranslate"><span class="pre">NeighborKMC</span></code> object. This section may look as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Mikkel</span> <span class="n">Jorgensen</span>
<span class="n">Chalmers</span> <span class="n">University</span> <span class="n">of</span> <span class="n">Technology</span>
<span class="n">Goteborg</span><span class="p">,</span> <span class="n">Sweden</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">2019</span>
<span class="o">--------------------------------------------------------------------------------</span>
<span class="n">Simulation</span> <span class="n">parameters</span>
<span class="n">pCO</span>       <span class="p">:</span>    <span class="mf">2000.0</span>
<span class="n">pO2</span>       <span class="p">:</span>    <span class="mf">1000.0</span>
<span class="n">T</span>         <span class="p">:</span>    <span class="mf">800.0</span>
<span class="n">Name</span>      <span class="p">:</span>    <span class="n">COOx</span> <span class="n">Simulation</span>
<span class="n">reverses</span>  <span class="p">:</span>    <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="n">tend</span>      <span class="p">:</span>    <span class="mf">1e-07</span>
<span class="n">Nsites</span>    <span class="p">:</span>    <span class="mi">432</span>
<span class="o">--------------------------------------------------------------------------------</span>
</pre></div>
</div>
<p>Next the log begins with printing the simulation step, the time the log-point was dumped, the simulation time, and the number of events fired, respectively:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Step</span>          <span class="n">time</span><span class="p">[</span><span class="n">hr</span><span class="p">:</span><span class="nb">min</span><span class="p">:</span><span class="n">s</span><span class="p">]</span>             <span class="n">Sim</span> <span class="n">time</span> <span class="p">[</span><span class="n">s</span><span class="p">]</span>          <span class="n">Events</span> <span class="n">called</span>
<span class="mi">1000</span>             <span class="mi">14</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">40</span>             <span class="mf">4.84677160781e-10</span>        <span class="p">[</span><span class="s1">&#39;37&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;960&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span>
<span class="mi">2000</span>             <span class="mi">14</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">41</span>             <span class="mf">7.10054219544e-10</span>        <span class="p">[</span><span class="s1">&#39;50&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;1945&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span>
<span class="mi">3000</span>             <span class="mi">14</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">42</span>             <span class="mf">8.66046768567e-10</span>        <span class="p">[</span><span class="s1">&#39;59&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;2936&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The ordering of <cite>Events Called</cite> is determined by the order of which the parameter <cite>events</cite> are passed upon instantiating a <code class="xref py py-class docutils literal notranslate"><span class="pre">NeighborKMC</span></code> object.</p>
</div>
<div class="section" id="results-as-txt-files">
<h2>Results as .txt files<a class="headerlink" href="#results-as-txt-files" title="Permalink to this headline">¶</a></h2>
<p><strong class="program">MonteCoffee</strong> generates its output as plaintext (.txt) files, as determined by the method
<a class="reference external" href="api/NeighborKMC.base.html#NeighborKMC.base.kmc.NeighborKMCBase.save_txt">save_txt() in base.NeighborKMC</a>.
If desired, this method can be altered to output other information during runtime. The output files are generated using <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.savetxt.html">numpy’s savetxt() method</a>, and can therefore be loaded using <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.html">np.loadtxt()</a>.</p>
<p>The code ouputs the following .txt files once prior to simulation:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>siteids.txt</strong>: The index of each site, passed as the parameter <code class="code docutils literal notranslate"><span class="pre">ind</span></code> when instantiating a <code class="xref py py-class docutils literal notranslate"><span class="pre">NeighborKMC.user_sites.Site</span></code> object. This is useful for storing an <code class="xref py py-class docutils literal notranslate"><span class="pre">Ase.Atoms</span></code> object.</p></li>
<li><p><strong>stypes.txt</strong>: The site types for each site, passed as the parameter <code class="code docutils literal notranslate"><span class="pre">stype</span></code> when instantiating a <code class="xref py py-class docutils literal notranslate"><span class="pre">NeighborKMC.user_sites.Site</span></code> object.</p></li>
</ul>
</div></blockquote>
<p>During the simulation the following .txt files are updated with a frequency specified in <a class="reference internal" href="options.html#options-sec"><span class="std std-ref">Options</span></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>mcstep.txt</strong>: The Monte Carlo step corresponding to each line in the other .txt files. This is directly dependent on the updating frequency.</p></li>
<li><p><strong>time.txt</strong>: The simulation time in seconds for every logged monte carlo step.</p></li>
<li><p><strong>coverages.txt</strong>: The coverages at each time-step for each lattice-site. The coverages are structured as <code class="code docutils literal notranslate"><span class="pre">coverages[mcstep][site_number]</span></code>.</p></li>
<li><p><strong>evs_exec.txt</strong>: The total number of event-type executions. For example, to find the total number of executions of event number 0:</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">evs_exec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;evs_exec.txt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N1</span> <span class="o">=</span> <span class="n">evs_exec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>sid_ev.txt</strong>: Contains the number events that happened at each site. The array is saved and reset periodically, and therefore the first dimension reflects the number of times the array was written. The array is saved by appending to the .txt file and therefore it is read in by calling numpy’s reshape:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">stypes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;stypes.txt&quot;</span><span class="p">)</span>
<span class="n">Nsites</span> <span class="o">=</span> <span class="n">stypes</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sid_ev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;sid_ev.txt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">Nsites</span><span class="p">,</span> <span class="n">Nevents</span><span class="p">)</span>
</pre></div>
</div>
<p>Where Nevents refers to the number of event types included in the simulation. The array is then structured as <code class="code docutils literal notranslate"><span class="pre">sid_ev[saved_step][site_number][event_number]</span></code>.
To find the total number of times event no 0 has been fired for each save [or call to <a class="reference external" href="api/NeighborKMC.base.html#NeighborKMC.base.kmc.NeighborKMCBase.save_txt">save_txt()</a>], a sum is made which corresponds to the output of <cite>evs_exec.txt</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">N0_total</span> <span class="o">=</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">s</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>  <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sid_ev</span><span class="p">]</span>
</pre></div>
</div>
<p>To find the number of executions of event 0 after half the number of total time steps (perhaps steady-state):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">N0_half_t</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">N0_total</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">N0_total</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">:])</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>sid_ev_other.txt</strong>: Contains the number events that happened, where the site is a neighbor site [see <a class="reference external" href="api/NeighborKMC.base.html#NeighborKMC.base.events.EventBase.get_rate">get_rate(system, site, other_site)</a>]. The array is structured as <code class="code docutils literal notranslate"><span class="pre">sid_ev_other[saved_step,</span> <span class="pre">other_site_number,</span> <span class="pre">event_number]</span></code>. The array is loaded as for <cite>sid_ev.txt</cite>.</p></li>
</ul>
</div></blockquote>
<p>For further information about analyzing output, see <a class="reference internal" href="tutorials/B2_ads.html#analyzecoox"><span class="std std-ref">Analyze results</span></a> and <a class="reference internal" href="examples/tof.html#tof"><span class="std std-ref">Calculating a turnover frequency</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorials/index.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quick.html" class="btn btn-neutral float-left" title="Quick start" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Mikkel Jørgensen

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>